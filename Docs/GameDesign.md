# MatchBattle - 게임 디자인 문서 v2.0

**장르**: 매치 퍼즐 + 로그라이크 RPG
**참고 게임**: Dungeon Raid, Slay the Spire, Peglin
**플랫폼**: PC/Mobile
**개발 기간**: 2-3주 (MVP)

---

## 🎯 핵심 콘셉트

**Slay the Spire의 덱 빌딩 + Dungeon Raid의 매치 퍼즐**

- 경로 연결 방식의 매치 퍼즐
- 로그라이크 블록 빌딩 시스템
- 순수 턴제 전략 전투
- 런마다 다른 블록 조합으로 시너지 구축

---

## 🎮 핵심 게임 루프

### 전투 루프 (순수 턴제)
```
[플레이어 턴]
1. 보드 분석 (시간 제한 없음)
2. 경로 드래그로 같은 색 블록 연결
3. 연결된 블록들의 효과 모두 발동
4. 블록 제거 & 보드 재배치
5. 턴 종료

[적 턴]
1. 적 행동 실행 (공격/버프/디버프)
2. 플레이어 방어력으로 데미지 감소
3. 다음 플레이어 턴
```

### 런 진행
```
전투 승리 → 보상 선택 (블록/유물/회복)
→ 다음 노드 선택 → 전투/상점/휴식
→ 보스 → 클리어!
```

---

## 🎨 보드 시스템

### 보드 규격
- **크기**: 8×8 그리드
- **조작**: 드래그로 경로 연결 (Dungeon Raid 방식)
- **규칙**: 같은 색상 블록을 인접하게 연결
- **최소 연결**: 3개 이상

### 연결 방식
```
예시:
🔴⚔️ - 🔴🪓 - 🔴⚔️ - 🔴🔥

→ 같은 색상(붉은)이면 다른 아이콘도 연결 가능!
→ 모든 블록의 효과가 발동
→ 검(+5) + 도끼(+8) + 검(+5) + 화염(+3+DOT)
```

---

## 🌈 블록 시스템 (5가지 색상)

### 색상 = 카테고리, 아이콘 = 구체적 효과

### 🔴 붉은 블록 (공격)
```
초기 블록:
  ⚔️ 검: 공격 +5

획득 가능:
  🪓 도끼: 공격 +8, 방어 -2
  🔥 화염: 공격 +3, 적에게 DOT 2턴
```

### 🔵 푸른 블록 (방어)
```
초기 블록:
  🛡️ 방패: 방어 +5

획득 가능:
  💨 회피: 방어 +3, 회피 30%
  ⚡ 반격: 방어 +2, 반격 데미지 50%
```

### 🟡 노란 블록 (재물)
```
초기 블록:
  💰 금화: 골드 +1

획득 가능:
  💎 보석: 골드 +3
  ⭐ 보너스: 전투 후 보상 등급 +1
```

### 🟤 갈색 블록 (중립/특수)
```
기본 (80% 생성):
  💩 쓰레기: 효과 없음 (방해물)

특수 (20% 생성):
  🧪 포션: HP +10 회복
  ✨ 버프: 다음 공격 +50% (1턴)
```

### 🟣 보라 블록 (와일드카드)
```
  ⭐ 별: 어떤 색과도 연결 가능
  - 생성 확률 낮음 (5%)
  - 매우 강력한 전략 도구
```

---

## ⚔️ 전투 시스템

### 플레이어 스탯
```
HP: 100 (최대 체력)
방어력: 0 (매 턴마다 생성, 최대 30)
골드: 0
```

### 방어력 시스템
```
- 푸른 블록 연결 시 생성
- 적 공격 시 먼저 소모
- 턴이 넘어가도 유지
- 최대 30까지 누적 가능
- 방어력 > 적 공격력이면 데미지 0
```

### 턴 진행
```
[플레이어 턴]
- 시간 제한 없음
- 여러 경로 연결 가능? (MVP: 1회만)
- 블록 효과 즉시 적용

[적 턴]
- 예고된 행동 실행
- 공격: 플레이어 방어력 → HP 순서로 데미지
- 다음 행동 예고 표시
```

---

## 🎁 로그라이크 빌드업 시스템

### 블록 빌딩
```
전투 승리 → 보상 선택:

1. 블록 추가
   ┌──────────────────┐
   │ 🪓 도끼 블록 추가 │
   │ (붉은 블록)       │
   │ 공격 +8, 방어 -2 │
   └──────────────────┘

2. 유물 획득
   ┌──────────────────┐
   │ 🔮 공격의 반지    │
   │ 모든 공격 +2     │
   └──────────────────┘

3. 회복
   ┌──────────────────┐
   │ HP +30 회복      │
   │ 골드 +20        │
   └──────────────────┘
```

### 블록 풀 관리
```
초기 블록 풀:
🔴 검 (80%)
🔵 방패 (80%)
🟡 금화 (80%)
🟤 쓰레기 (80%)
🟤 포션 (15%)
🟤 버프 (5%)
🟣 별 (5%)

블록 추가 시:
🔴 검 (60%) ← 비율 감소
🔴 도끼 (20%) ← 새로 추가
🔵 방패 (80%)
...

→ 덱 빌딩처럼 블록 풀 커스터마이징!
```

---

## 🗝️ 유물 시스템 (MVP 5개)

```
1. 공격의 반지: 모든 공격 +2
2. 방어의 목걸이: 최대 방어력 +10 (40까지)
3. 회복의 부적: 전투 시작 시 HP +5
4. 행운의 동전: 노란 블록 효과 2배
5. 불굴의 의지: HP 10 이하일 때 방어 +10
```

---

## 👾 적 디자인 (MVP 3종)

### 1. 슬라임 (일반)
```
HP: 30
공격: 5
패턴:
  - 공격 (80%)
  - 방어 +3 (20%)
```

### 2. 고블린 (일반)
```
HP: 50
공격: 8
패턴:
  - 공격 (60%)
  - 강공격 12 (예고 1턴) (40%)
```

### 3. 오크 보스 (보스)
```
HP: 150
공격: 15
패턴:
  - 공격 (50%)
  - 강공격 25 (예고 1턴) (30%)
  - 방어 +10 (20%)
특수: HP 50% 이하 시 공격력 +5
```

---

## 📦 MVP 범위 (2-3주)

### Week 1: 보드 + 기본 전투
```
✅ 8×8 보드 생성
✅ 경로 드래그 입력
✅ 같은 색 블록 연결 감지
✅ 블록 제거 & 낙하
✅ 기본 블록 2종 (검/방패)
✅ 플레이어 HP/방어
✅ 적 1종 (슬라임)
✅ 순수 턴제 전투
```

### Week 2: 블록 다양화 + 진행
```
✅ 5가지 색상 블록 구현
✅ 각 색상당 2종씩 (총 10종)
✅ 블록 빌딩 시스템
✅ 보상 선택 화면
✅ 유물 5개
✅ 적 3종
✅ 5전투 → 보스 진행
```

### Week 3: Polish + 밸런싱
```
✅ 수치 밸런싱
✅ 기본 이펙트
✅ UI/UX 개선
✅ 빌드 테스트
```

---

## 🎯 차별화 포인트

1. **블록 빌딩**: 카드가 아닌 블록을 빌드업
2. **색상 = 카테고리**: 같은 색 다른 효과 연결
3. **방어력 누적**: 방어 중심 빌드 가능
4. **순수 전략**: 시간 압박 없이 깊게 생각
5. **간결한 MVP**: 핵심만 빠르게 구현

---

## 🔮 향후 확장 (MVP 이후)

- 시간 제한 모드 (난이도 옵션)
- 더 많은 블록 종류 (각 색상 5-10종)
- 특수 블록 생성 (4개 이상 연결)
- 다양한 적 패턴
- 노드 맵 (Slay the Spire 스타일)
- 메타 진행 시스템

---

**작성일**: 2025-12-12
**버전**: 2.0 (전면 재설계)
**변경사항**: Dungeon Raid 스타일로 전환, 블록 빌딩 시스템 추가
